(()=>{"use strict";const t=function(){let t=function(t){let e=[];for(let t=0;t<7;t++){e[t]=[];for(let r=0;r<7;r++)e[t][r]={ship:null,triedHit:!1}}return e}(),e=[];return{board:t,placeShip:function(r,n,o,a=!1){let l=[r,n];if(!1===a){r+o.length-1>=7&&(l=[7-o.length,n]);let a=l[0],i=l[1];for(let e=0;e<o.length;e++)if(t[a+e][i].ship)return!1;e.push(o);for(let e=0;e<o.length;e++)t[a+e][i].ship=o}else{n+o.length-1>=7&&(l=[r,7-o.length]);let a=l[0],i=l[1];for(let e=0;e<o.length;e++)if(t[i+e][a].ship)return!1;e.push(o);for(let e=0;e<o.length;e++)t[i+e][a].ship=o}return!0},shipsOnBoard:e,receiveAttack:function(t,e){let r=this.board[t][e];return!(!r||r.triedHit||(r.triedHit=!0,null!==r.ship&&r.ship.hit(),0))},allSunk:function(){return e.every((t=>t.isSunk()))}}},e=function(){const e=new t,r=function(t,e){return this.opp.gameboard.receiveAttack(t,e)},n=function(t){return Math.floor(Math.random()*t)},o=new Set,a=function(t=n){let e=t(7),l=t(7);if(!o.has(this.opp.gameboard.board[e][l]))return r.call(this,e,l),o.add(this.opp.gameboard.board[e][l]),[e,l];a.call(this,t)};return{gameboard:e,opp:null,attack:r,aiAttack:a}},r=(document.querySelector(".rotate"),document.querySelector(".new-game"),document.querySelector(".user-board")),n=document.querySelector(".ai-board"),o=(document.querySelector(".status"),function(){const t=new e,o=new e;return t.opp=o,o.opp=t,{createUserBoard:function(){for(let e=0;e<t.gameboard.board.length;e++)for(let n=0;n<t.gameboard.board[e].length;n++){const t=document.createElement("div");t.classList.add("grid-square"),t.dataset.x=n,t.dataset.y=e,t.textContent=`${n}, ${e}`,r.appendChild(t)}},createAiBoard:function(){for(let t=0;t<o.gameboard.board.length;t++)for(let e=0;e<o.gameboard.board[t].length;e++){const r=document.createElement("div");r.classList.add("grid-square"),r.dataset.x=e,r.dataset.y=t,r.textContent=`${e}, ${t}`,n.appendChild(r)}}}}());o.createUserBoard(),o.createAiBoard()})();