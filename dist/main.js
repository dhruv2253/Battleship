(()=>{"use strict";const e=function(){let e=function(e){let t=[];for(let e=0;e<7;e++){t[e]=[];for(let r=0;r<7;r++)t[e][r]={ship:null,triedHit:!1}}return t}(),t=[];return{board:e,placeShip:function(r,n,a,o=!1){let l=[r,n];if(!1===o){r+a.length-1>=7&&(l=[7-a.length,n]);let o=l[0],i=l[1];for(let t=0;t<a.length;t++)if(e[o+t][i].ship)return!1;t.push(a);for(let t=0;t<a.length;t++)e[o+t][i].ship=a}else{n+a.length-1>=7&&(l=[r,7-a.length]);let o=l[0],i=l[1];for(let t=0;t<a.length;t++)if(e[i+t][o].ship)return!1;t.push(a);for(let t=0;t<a.length;t++)e[i+t][o].ship=a}return!0},shipsOnBoard:t,receiveAttack:function(e,t){let r=this.board[e][t];return!(!r||r.triedHit||(r.triedHit=!0,null!==r.ship&&r.ship.hit(),0))},allSunk:function(){return t.every((e=>e.isSunk()))}}},t=function(){const t=new e,r=function(e,t){return this.opp.gameboard.receiveAttack(e,t)},n=function(e){return Math.floor(Math.random()*e)},a=new Set,o=function(e=n){let t=e(7),l=e(7);if(!a.has(this.opp.gameboard.board[t][l]))return r.call(this,t,l),a.add(this.opp.gameboard.board[t][l]),[t,l];o.call(this,e)};return{gameboard:t,opp:null,attack:r,aiAttack:o}},r=(document.querySelector(".rotate"),document.querySelector(".new-game"),document.querySelector(".user-board")),n=document.querySelector(".ai-board"),a=(document.querySelector(".status"),function(){const e=new t,a=new t;return e.opp=a,a.opp=e,{createUserBoard:function(){for(let t=0;t<e.gameboard.board.length;t++)for(let n=0;n<e.gameboard.board[t].length;n++){const e=document.createElement("div");e.classList.add("grid-square"),e.dataset.x=n,e.dataset.y=t,r.appendChild(e)}},createAiBoard:function(){for(let e=0;e<a.gameboard.board.length;e++)for(let t=0;t<a.gameboard.board[e].length;t++){const r=document.createElement("div");r.classList.add("grid-square"),r.dataset.x=t,r.dataset.y=e,n.appendChild(r)}}}}());a.createUserBoard(),a.createAiBoard()})();